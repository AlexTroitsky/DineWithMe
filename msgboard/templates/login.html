{% extends "msgboard/base.html" %}
{% load bootstrap4 %}
{% load static %}

<html>
<head>
    <title>Dine With Me</title>
</head>
<body>
    {% block content %}
    <link rel="stylesheet" href="{% static 'msgboard/css/login.css' %}">
    <div class="loginForm">
        <form method="POST">
            {% csrf_token %}
            {{ form.as_p }}
            <!-- <div class="form-group">
            <label for="exampleInputEmail1">שם משתמש</label>
            <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="הכנס שם משתמש">
            </div>
            <div class="form-group">
            <label for="exampleInputPassword1">סיסמה</label>
            <input type="password" class="form-control" id="exampleInputPassword1" placeholder="הכנס סיסמה">
            </div> -->
            <button type="submit" class="btn btn-info loginBtn" value="Post">התחבר</button>
        </form>
        <div class="signUpBtn">
            <a> לא רשום עדיין?</a>  
            <a class="signup-btn">לחץ כאן</a>
        </div>
        {% for user in users %}
            <div class="message">
                <p class="author">
                    Posted by {{user.username}} at {{user.password}}
                </p>
            </div>
        {% endfor %}

        <div class="modal fade" tabindex="-1" role="dialog" id="modal">
            <div class="modal-dialog" role="document">
              <div class="modal-content"></div>
            </div>
        </div>
        

        <script type="text/javascript">
            $(function () {
                // Sign up button
                $(".signup-btn").modalForm({formURL: "{% url 'signup' %}"});

                // asyncSettings.successMessage
                var asyncSuccessMessage = [
                    "<div ",
                    "style='position:fixed;top:0;z-index:10000;width:100%;border-radius:0;' ",
                    "class='alert alert-icon alert-success alert-dismissible fade show mb-0' role='alert'>",
                    "Success: Book was updated.",
                    "<button type='button' class='close' data-dismiss='alert' aria-label='Close'>",
                    "<span aria-hidden='true'>&times;</span>",
                    "</button>",
                    "</div>",
                    "<script>",
                    "$('.alert').fadeTo(2000, 500).slideUp(500, function () {$('.alert').slideUp(500).remove();});",
                    "<\/script>"
                ].join();

                // asyncSettings.addModalFormFunction
        // function updateBookModalForm() {
        //   $(".update-book").each(function () {
        //     $(this).modalForm({
        //       formURL: $(this).data("form-url"),
        //       asyncUpdate: true,
        //       asyncSettings: {
        //         closeOnSubmit: false,
        //         successMessage: asyncSuccessMessage
        //         dataUrl: "books/",
        //         dataElementId: "#books-table",
        //         dataKey: "table",
        //         addModalFormFunction: updateBookModalForm
        //       }
        //     });
        //   });
        // }

            });
        </script>
    </div>
    {% endblock content %}
</body>